<ng-container *ngIf="user">
  <nz-badge
    [class.no-username]="showUsername === 'none'"
    *ngIf="!noIcon"
    [nzCount]="user && user.role === 'admin' ? nzCount : undefined"
    [nzOffset]="[0, -6]"
  >
    <nz-avatar [nzSize]="size" [nzSrc]="'https://robohash.org/' + user.username + '.png'" nzIcon="user" />
  </nz-badge>
  <div>
    <ng-container [ngSwitch]="showUsername">
      <ng-container *ngSwitchCase="'stacked'">
        <span>{{ user.firstName }} {{ user.lastName }} </span>
        <span>{{ user.username }}</span>
      </ng-container>
      <ng-container *ngSwitchCase="'inline'">
        <span>{{ user.firstName }} {{ user.lastName }} ({{ user.username }})</span>
      </ng-container>
      <ng-container *ngSwitchDefault> </ng-container>
    </ng-container>
  </div>
  <ng-template #nzCount>
    <i nz-tooltip="Administrateur" nz-icon [nzType]="'safety-certificate'" [nzTheme]="'twotone'"></i>
  </ng-template>
</ng-container>
<ng-container *ngIf="group">
  <user-group-avatar
    [size]="size"
    [group]="group"
    [canShowMembers]="showGroupMembers.observed"
    (showMembers)="showGroupMembers.emit(group)"
  />
</ng-container>
