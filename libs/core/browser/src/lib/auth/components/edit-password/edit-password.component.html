<form [formGroup]="form">
  <!-- https://stackoverflow.com/questions/53911864/angular-forms-and-password-managers/53956890#53956890 -->
  <input type="text" autocomplete="username" [value]="username" hidden />
  <mat-form-field appearance="outline" *ngIf="passwordRequired">
    <mat-label>Mot de passe actuel</mat-label>
    <input matInput type="password" autocomplete="current-password" formControlName="password" />
    <mat-error>Veuillez indiquer votre mot de passe actuel</mat-error>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Nouveau mot de passe</mat-label>
    <input matInput type="password" autocomplete="new-password" formControlName="newPassword" />
    <mat-error>Veuillez indiquer un mot de passe correct</mat-error>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Confirmer le nouveau mot de passe</mat-label>
    <input matInput type="password" autocomplete="new-password" formControlName="confirmPassword" />
    <mat-error *ngIf="form.controls.confirmPassword.hasError('required')">
      Veuillez confirmer votre nouveau mot de passe
    </mat-error>
    <mat-error *ngIf="form.controls.confirmPassword.hasError('notMatching')">
      Vos mots de passe ne correspondent pas
    </mat-error>
  </mat-form-field>
</form>
