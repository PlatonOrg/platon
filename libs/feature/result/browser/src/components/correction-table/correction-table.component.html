<nz-collapse>
  <nz-collapse-panel *ngFor="let course of groupedCourses" [nzHeader]="course.courseName" [nzActive]="false">
    <nz-table #nzActivityTable [nzData]="course.activities" [nzBordered]="false" [nzShowPagination]="false">
      <thead>
        <tr>
          <th nzWidth="50%">Activité</th>
          <th nzWidth="25%">Exercices corrigés</th>
          <th nzWidth="25%" nzAlign="center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let activity of course.activities"
          class="pointer"
          [routerLink]="['/player/correction', activity.courseId]"
          [queryParams]="{ activityId: activity.activityId }"
        >
          <td>
            <a nz-button nzType="link" class="aligned"> <mat-icon>widgets</mat-icon>{{ activity.activityName }} </a>
          </td>
          <td>
            <nz-tag [nzColor]="activity.correctionStatusColor">
              {{ activity.correctedCount }} / {{ activity.exerciseCount }}
            </nz-tag>
          </td>
          <td nzAlign="center" style="cursor: default">
            <button
              style="background: inherit; border: none; cursor: pointer"
              [routerLink]="['/courses', activity.courseId]"
              nz-tooltip="Se rendre sur la page du cours"
            >
              <mat-icon style="margin-right: 0">open_in_new</mat-icon>
            </button>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </nz-collapse-panel>
</nz-collapse>

<ng-template #empty>
  <div class="empty-state">
    <mat-icon>info</mat-icon>
    <span>Aucune donnée disponible</span>
  </div>
</ng-template>
