<div class="restriction-container">
  @switch (restriction.type) { @case ('DateRange') {
  <div class="restriction-row">
    <!-- Date Range Section -->
    <div class="restriction-header">
      <i nz-icon nzType="calendar" nzTheme="outline"></i>
      <span>Période d'accès :</span>
    </div>
    @if(isDateRangeConfig(restriction.config)) {
    <div class="date-picker-compact">
      <nz-date-picker
        [nzShowTime]="true"
        [nzDisabledDate]="disabledDateStart"
        [(ngModel)]="restriction.config.start"
        nzPlaceHolder="Date d'ouverture"
        nzFormat="dd/MM/yyyy HH:mm"
        [nzBorderless]="true"
      />
      <span class="separator">→</span>
      <nz-date-picker
        [nzShowTime]="true"
        [nzDisabledDate]="disabledDateEnd"
        [(ngModel)]="restriction.config.end"
        (ngModelChange)="checkEndDateIsSuperiorStartDate()"
        nzPlaceHolder="Date de fermeture"
        nzFormat="dd/MM/yyyy HH:mm"
        [nzBorderless]="true"
      />
    </div>
    }
  </div>
  } @case ('Groups') { @if(isGroupsConfig(restriction.config)) {
  <div class="restriction-row">
    <!-- Group Section -->
    <div class="restriction-header">
      <i nz-icon nzType="team" nzTheme="outline"></i>
      <span>Groupes autorisés :</span>
    </div>
    <div class="select-container">
      <course-group-select
        [groups]="courseGroups"
        [(ngModel)]="restriction.config.groups"
        placeholder="Tous les groupes"
      />
    </div>
  </div>
  } } @case ('Correctors') { @if(isCorrectorsConfig(restriction.config)) {
  <div class="restriction-row">
    <!-- Correctors Section -->
    <div class="restriction-header">
      <i nz-icon nzType="audit" nzTheme="outline"></i>
      <span>Correcteurs :</span>
    </div>
    <div class="select-container">
      <course-member-select
        [members]="courseMembers"
        [(ngModel)]="restriction.config.correctors"
        placeholder="Auto-corrigée"
      />
    </div>
  </div>
  } } @case ('Members') { @if(isMembersConfig(restriction.config)) {
  <div class="restriction-row">
    <!-- Members Section -->
    <div class="restriction-header">
      <i nz-icon nzType="user" nzTheme="outline"></i>
      <span>Utilisateurs autorisés :</span>
    </div>
    <div class="select-container">
      <course-member-select
        [members]="courseMembers"
        [(ngModel)]="restriction.config.members"
        placeholder="Tous les utilisateurs"
      />
    </div>
  </div>
  } } }
  <button
    *ngIf="!isMainRestriction && restriction.type !== 'DateRange'"
    nz-button
    nzType="text"
    nzDanger
    (click)="removeRestriction()"
    class="delete-button"
  >
    <i nz-icon nzType="delete"></i>
  </button>
</div>
