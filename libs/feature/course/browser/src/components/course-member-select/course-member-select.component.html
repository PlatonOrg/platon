<nz-tree-select
  [(ngModel)]="selection"
  [nzNodes]="nodes"
  (ngModelChange)="onChangeSelection($event)"
  [nzShowSearch]="true"
  [nzCheckable]="true"
  [nzDisabled]="disabled"
  [nzPlaceHolder]="placeholder || ''"
  [nzTreeTemplate]="template"
  [nzVirtualHeight]="nodes.length <= 15 ? '' : '300px'"
/>

<ng-template #template let-node>
  <user-avatar [size]="24" [user]="node.origin.value.user" [group]="node.origin.value.group" />
</ng-template>
