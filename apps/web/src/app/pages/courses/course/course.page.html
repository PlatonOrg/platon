<ui-layout-tabs [state]="context.state">
  <ng-container *ngIf="context.course as course">
    <header>
      <nz-page-header [nzSubtitle]="header" nzBackIcon>
        <ng-template #header>
          <nz-breadcrumb nzSeparator="">
            <nz-breadcrumb-item>
              <mat-icon>local_library</mat-icon>
              <span
                nz-typography
                [nzEditable]="course.permissions.update"
                [nzContent]="course.name"
                (nzContentChange)="updateName($event)"
              ></span>
            </nz-breadcrumb-item>
            <div class="spacer"></div>
          </nz-breadcrumb>
        </ng-template>
      </nz-page-header>
    </header>
    <p
      nz-typography
      [nzEditable]="course.permissions.update"
      [nzContent]="course.desc"
      (nzContentChange)="updateDesc($event)"
    ></p>
    <div class="container-toolbar">
      <nz-tag>
        <span nz-icon nzType="calendar" nzTheme="outline"></span>
        <span>Créé le {{ course.createdAt | date }} </span>
      </nz-tag>
    </div>
  </ng-container>
  <ui-layout-tab [link]="['dashboard']">
    <ng-template>
      <span nz-icon nzType="dashboard" nzTheme="outline"></span>
      Vue d'ensemble
    </ng-template>
  </ui-layout-tab>
  <ui-layout-tab [link]="['teachers']">
    <ng-template>
      <span nz-icon nzType="team" nzTheme="outline"></span>
      Enseignants
    </ng-template>
  </ui-layout-tab>
  <ui-layout-tab [link]="['students']">
    <ng-template>
      <span nz-icon nzType="team" nzTheme="outline"></span>
      Élèves
    </ng-template>
  </ui-layout-tab>
  <ng-container *ngIf="context.course?.permissions?.update">
    <ui-layout-tab [link]="['settings']" [linkParams]="{ tab: 'informations' }">
      <ng-template>
        <mat-icon>settings</mat-icon>
        Paramètres
      </ng-template>
    </ui-layout-tab>
  </ng-container>
</ui-layout-tabs>
