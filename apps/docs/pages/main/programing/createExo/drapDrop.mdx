
# Platon avec Bulles Associatives (wc-binded-bubbles)

## Objectif de l'exercice

Cet exercice vise Ã  entraÃ®ner les apprenants Ã  associer correctement des Ã©lÃ©ments de gauche Ã  ceux de droite sous forme de bulles interactives. Il s'agit ici d'un appariement question-rÃ©ponse basÃ© sur le composant `:wc-binded-bubbles`.

---

## Environnement d'exÃ©cution

```python
sandbox = "python"
```

---

## Composant utilisÃ©

```python
input1 = :wc-binded-bubbles
input1.type = "text"
input1.placeholder = "Entrez votre rÃ©ponse ici"
```

Ce composant permet aux Ã©lÃ¨ves de crÃ©er des associations entre deux listes d'Ã©lÃ©ments. Les appariements se font de maniÃ¨re interactive Ã  lâ€™aide de bulles.

---

## Ã‰noncÃ©

```platon
statement ==
Associez les questions aux rÃ©ponses correctes
==
```

---

## Builder : GÃ©nÃ©ration dynamique des paires

```python
builder==#!lang=python
```

### a) Fonctionnement :
- RÃ©cupÃ¨re la variable `questions_reponses`, qui est une liste de paires (question, rÃ©ponse).
- SÃ©lectionne alÃ©atoirement `nbPair` paires.
- Les paires sont ensuite mÃ©langÃ©es et affichÃ©es Ã  lâ€™Ã©lÃ¨ve.
- Chaque paire est insÃ©rÃ©e sous forme de dictionnaire contenant un `item1` (question) et un `item2` (rÃ©ponse).

Exemple de structure de donnÃ©e attendue pour `questions_reponses` :
```python
questions_reponses = [
  ["Paris", "France"],
  ["Berlin", "Allemagne"],
  ["Madrid", "Espagne"]
]
```
### b) Mais oÃ¹ est gÃ©nÃ©rÃ©e la variable `questions_reponses` ? Ah ðŸ˜²...
#### ðŸ“¦ Fichier main.plc  - Variables de l'exercice
  Le fichier `main.plc` contient la dÃ©claration de **variables dynamiques** qui seront utilisÃ©es ou injectÃ©es dans le script principal de l'exercice (`main.ple`).

  Voici la siginfication des variables visibles dans l'interface de PLaTon:

  |Nom de Variable| Type| Description|
  |:--------|:---------|:---------|
  |`title`| Texte | Titre de l'exercice . Peut Ãªtre redÃ©fini dynamiquement|
  | `statement` | Texte | Ã‰noncÃ© visible par l'Ã©lÃ¨ve . InjectÃ© dans le champ `statement==` de `main.ple`|
  |`before`| Code (python) | Code d'initialisation exÃ©cutÃ© avant le `builder` .Sert Ã  dÃ©finir la variable `question_reponses|
  | `nbPair` | Nombre | Nombre de paires (question-rÃ©ponse) Ã  afficher.|
 #### ðŸ§  Exemple de code dans `before`
  ```python
      def operation(a, b, op):
      try:
          expression = f'{a} {op} {b}'
          result = eval(expression)
          if len(str(result)) > 6:
              result = str(result)[:6]
          return (expression, result)
      except ZeroDivisionError:
          return (expression, 'division by zero')
      except Exception as e:
          return ('invalid operation', str(e))

    def createliste(a, b, ops=['+','-','%','//','**','*','/']):
        s = []
        val = set()
        for op in ops:
            q, r = operation(a, b, op)
            if r not in val:
                val.add(r)
                s.append((q, r))
        return s

    import random
    questions_reponses = []
    while len(questions_reponses) < 3:
        a, b = random.randint(-4, 5), random.randint(-3, 3)
        questions_reponses = createliste(a, b)

  ```
---

## Grader : Ã‰valuation de lâ€™exercice

```python
grader==#!lang=python
```

### Fonctionnement :
- Parcourt les `items` pour vÃ©rifier lâ€™Ã©tat des bulles.
- Une bulle est considÃ©rÃ©e comme "rÃ©ussie" si son `state` est `"achieved"` ou `"disabled"`.
- Le score est 100% si toutes les associations sont complÃ¨tes.

### Feedback fourni :
- **SuccÃ¨s total** : "Bravo, tout juste"
- **SuccÃ¨s partiel** : "C'est la fin, vous vous Ãªtes trompÃ©s quelques fois"
- **Incomplet** : "Vous ne pouvez valider que lorsque toutes les bulles ont Ã©clatÃ©."

---

## Formulaire Ã  afficher

```platon
form ==
{{input1}}
==
```

---

## Conseils dâ€™utilisation

- VÃ©rifiez que les paires question-rÃ©ponse sont bien dÃ©finies dans `questions_reponses`.
- Ajustez `nbPair` selon le nombre de paires Ã  afficher.
- Testez lâ€™interaction en activant le mode debug avec : `input1["debug"] = True`.

---

Document gÃ©nÃ©rÃ© automatiquement Ã  partir du fichier `main.ple`.
